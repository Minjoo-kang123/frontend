<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title> 
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script></head>
<body>
    <h1>Ajax html</h1>
    <div id = "result" style="border: 1px solid red; width: 400px; height: 100px;"></div>
    <input type="text" name="xval" id="xval">
    <input type="text" name="yval" id="yval">
    <button type="button" id = "btnSend">시작</button>
</body>
</html>
<script>
    //fetch 함수가주는 결과는 promise 객체이다.
    //promise가 일을 종료할 때까지 기다린다. then 구문
    document.querySelector("#btnSend").addEventListener('click', ()=>{
      let x = document.querySelector("#xval").value;
      let y = document.querySelector("#yval").value;
      let url = `http://localhost:8080/add2`
      /*get 방식
      let url = `http://localhost:8080/add?x=${x}&y=${y}`
      axios.get(url)
      .then((res)=>{
        console.log(res.data);
        document.querySelector("#result").innerHTML = res.data.result;
      })*/
      axios.post(url, {
        'x':x, 'y':y
      }).then((res)=>{
        console.log(res.data);
        document.querySelector("#result").innerHTML = res.data.result;
      })
      .catch((res,msg,status)=>{
        console.log(msg);
      });
    });
</script>